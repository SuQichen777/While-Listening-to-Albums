# While-Listening-to-Albums å¬ä¸“è¾‘çš„æ—¶å€™æˆ‘åœ¨æƒ³äº›ä»€ä¹ˆ

å¬ä¸“è¾‘çš„æ—¶å€™æˆ‘åœ¨æƒ³äº›ä»€ä¹ˆï¼ˆWhile Listening to Albumsï¼‰æ˜¯ä¸€æ¬¾å¬æ­Œè®°å½•è½¯ä»¶ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·è®°å½•å’Œåˆ†äº«ä»–ä»¬åœ¨å¬ä¸“è¾‘æ—¶çš„æƒ³æ³•å’Œæ„Ÿå—ã€‚ç”¨æˆ·å¯ä»¥æœç´¢ä¸“è¾‘ï¼ŒæŸ¥çœ‹ä¸“è¾‘è¯¦æƒ…ï¼Œè®°å½•è‡ªå·±çš„å¬æ­Œç¬”è®°ï¼Œå¹¶ä¸å…¶ä»–ç”¨æˆ·åˆ†äº«ã€‚

While Listening to Albums is a music journaling app that helps users record and share their thoughts and feelings while listening to albums. You can search for albums, view album details, write your own listening notes, and share them with others.

## Features åŠŸèƒ½

ä½ æˆ–è®¸ä¼šè§‰å¾—ï¼Œè¿™æ¬¾è½¯ä»¶å’Œè±†ç“£å¾ˆåƒï¼Œå…¶å®ç¡®å®å¦‚æ­¤ã€‚è±†ç“£çš„ä¸“è¾‘é¡µé¢ä¹Ÿæœ‰ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä½†æˆ‘å¸Œæœ›åœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€äº›æ–°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š

At first glance, this app may remind you of Doubanâ€™s album pages, and thatâ€™s true â€” the idea is similar. But Iâ€™d like to expand on that foundation with new features such as:

- å®Œå…¨ç§äººåŒ–çš„å¬æ­Œç¬”è®°å’Œä¹è¯„ï¼Œä½ å¯ä»¥é€‰æ‹©å®Œå…¨ä¸å…¬å¼€ä»»ä½•ä½“éªŒã€‚Private listening notes and reviews: you can choose to keep all of your experiences completely private.
- æ›´åŠ ç»†åˆ†çš„è¯„åˆ†è§„åˆ™ï¼Œä¸æ˜¯ 1-5 æ˜Ÿï¼Œè€Œæ˜¯ 1-10 åˆ†ã€‚More granular rating scale: not just 1â€“5 stars, but a 1â€“10 score system.
  - ä½ å½“ç„¶å¯ä»¥ä½¿ç”¨å°æ•°ç‚¹ã€‚You can absolutely use decimal scores.
- ä½¿ç”¨ä¸“è¾‘å°é¢æ‹¼å›¾â€æˆ‘å¬è¿‡çš„æ‰€æœ‰ä¸“è¾‘â€œï¼Œâ€œæˆ‘ 2023 å¹´å¬è¿‡çš„ä¸“è¾‘â€ç­‰ç­‰ã€‚Album cover collages: create mosaics like â€œAll the albums Iâ€™ve listened toâ€ or â€œAlbums I listened to in 2023.â€
  - å¯ä»¥ä¸€é”®å¯¼å‡ºæ‹¼å›¾ã€‚Export collages with one click.
  - ç»™ä¸“è¾‘å¢åŠ â€œç®€å•å°è±¡â€ï¼Œæ¯”å¦‚ä¸€ä¸ªè¯ï¼Œä¸€ä¸ªé¢œè‰²ï¼Œå¯ä»¥ç›´æ¥åœ¨æ‹¼å›¾ä¸Šæ˜¾ç¤ºã€‚Add a â€œquick impressionâ€ (a word, a color) to each album, displayed directly on the collage.
  - ä¹Ÿå¯ä»¥åšæˆâ€œæœˆå†â€ï¼Œè¿™æ ·çš„è¯å°±ä¼šæœ‰äº›ç©ºä½ã€‚Optionally display them as a calendar view, with empty slots for days you didnâ€™t log albums.
- å¯¹äºä»»ä½•ä¸“è¾‘éƒ½èƒ½ç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„æµåª’ä½“ã€‚Jump directly to streaming platforms for any album:
  - Spotify
  - ç½‘æ˜“äº‘ã€‚NetEase Cloud Music
  - â€¦â€¦and more
- â€œé‚£å¹´ä»Šæ—¥â€åŠŸèƒ½ï¼Œæ¨èå»å¹´ä»Šå¤©ä½ å¬è¿‡çš„ä¸“è¾‘å’Œä½ å½“æ—¶çš„è¯„åˆ†ã€‚â€œOn This Dayâ€ reminders: revisit what you were listening to exactly one year ago, along with your old rating.
- è¯„åˆ†çƒ­åŠ›å›¾ã€‚åƒæ˜¯ Github çš„è´¡çŒ®çƒ­åŠ›å›¾ä¸€æ ·ï¼Œè®°å½•ä½ æ¯å¤©å¬äº†å¤šå°‘ä¸“è¾‘ã€‚Listening activity heatmap: inspired by GitHubâ€™s contribution graph, showing how many albums you listened to each day.
  - æ‰€ä»¥æˆ–è®¸æˆ‘ä»¬ä¼šå¯¹äºæ¯ä¸ªç”¨æˆ·å…è®¸æ¯é¦–æ­Œéƒ½æœ‰å¾ˆå¤šæ¡â€œå¬æ­Œè®°å½•â€ï¼Œè€Œä¸æ˜¯ä¸€é¦–æ­Œåªæœ‰ä¸€æ¡ã€‚Each track can have multiple â€œlistening logs,â€ rather than just one.
  - ä¸å¦‚è®©æˆ‘ä»¬åšä¸ªå¸¦å›¾ç‰‡çš„æ—¶é—´è½´ã€‚A timeline view with album covers and notes.
- è¯„åˆ†æ›²çº¿å›¾ã€‚Rating trends and charts:
  - ä½ å¯ä»¥çœ‹åˆ°ä½ åœ¨ä¸åŒæ—¶é—´æ®µçš„è¯„åˆ†å˜åŒ–ã€‚Visualize how your ratings change over time.
  - æˆ‘æœ€è¿‘å˜æˆâ€œæ‡‚å“¥â€äº†å—ï¼Ÿæˆ‘æœ€è¿‘å˜å¾—â€œè‹›åˆ»â€äº†å—ï¼ŸSee if youâ€™re becoming more generousâ€¦ or more critical.
- ä¸ä»…æ˜¯â€œæˆ‘å¬è¿‡çš„ä¸“è¾‘â€ï¼Œè¿˜æœ‰â€œæˆ‘æƒ³å¬çš„ä¸“è¾‘â€ã€‚Want-to-listen list:
  - ä½ å¯ä»¥æŠŠä½ æƒ³å¬çš„ä¸“è¾‘æ·»åŠ åˆ°â€œæƒ³å¬â€åˆ—è¡¨ï¼ŒåŒæ ·ä½ ä¹Ÿèƒ½ä¸€é”®è·³è½¬åˆ°å¯¹åº”çš„æµåª’ä½“ã€‚Add albums youâ€™d like to check out, with one-click access to streaming services.
- æé†’ã€‚Reminders by email:
  - å¦‚æœä½ æ„¿æ„ç•™ä¸‹ä½ çš„é‚®ç®±ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä½ æ ‡æ³¨æƒ³å¬åçš„æŸä¸ªæ—¶é—´ç‚¹ï¼Œç»™ä½ å‘ä¸€å°é‚®ä»¶ï¼Œæé†’ä½ å»å¬è¿™å¼ ä¸“è¾‘ã€‚If you leave your email, we can notify you at a chosen time after you add an album to your â€œWant to Listenâ€ list, reminding you to give it a spin.

## Project Overview é¡¹ç›®æ¦‚è§ˆ

### Structure ç»“æ„

Generated by ai right now, and I will modify it later. Another `.md` file (`run-local.md`)also contains important information.

```bash
While-Listening-to-Albums/
â”œâ”€â”€ client/                         # ğŸ§ å‰ç«¯ React (Vite)
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ï¼šHome, AlbumDetail, Profile ç­‰
â”‚   â”‚   â”œâ”€â”€ api/                   # å‰ç«¯è¯·æ±‚å°è£…ï¼ˆåŸºäº fetch/axios + React Queryï¼‰
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â”œâ”€â”€ .env.example               # VITE_API_URL=http://localhost:8080
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/                         # ğŸš€ åç«¯ Node.js + Express
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.js                 # æŒ‚è½½ä¸­é—´ä»¶/è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ server.js              # å¯åŠ¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ db/                    # Mongo è¿æ¥ä¸æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js           # å¤ç”¨çš„ MongoClient è¿æ¥æ± 
â”‚   â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚   â”‚       â”œâ”€â”€ Album.js
â”‚   â”‚   â”‚       â”œâ”€â”€ Note.js        # å¬æ­Œç¬”è®°/ä¹è¯„
â”‚   â”‚   â”‚       â”œâ”€â”€ User.js
â”‚   â”‚   â”‚       â””â”€â”€ ListenLog.js   # å¬æ­Œè®°å½•ï¼ˆåšçƒ­åŠ›å›¾/æ—¶é—´è½´ï¼‰
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ albums.js          # /api/albums  æœç´¢/è¯¦æƒ…/è·³è½¬æµåª’ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ notes.js           # /api/notes   ç§å¯†/å…¬å¼€ç¬”è®°ã€è¯„åˆ†(1â€“10ï¼Œå«å°æ•°)
â”‚   â”‚   â”‚   â”œâ”€â”€ logs.js            # /api/logs    å¬æ­Œè®°å½•ã€çƒ­åŠ›å›¾ã€é‚£å¹´ä»Šæ—¥
â”‚   â”‚   â”‚   â””â”€â”€ users.js           # /api/users   æ³¨å†Œ/ç™»å½•(å¯é€‰)
â”‚   â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡é€»è¾‘ï¼ˆä¸è·¯ç”±è§£è€¦ï¼‰
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ cors.js            # CORS ç™½åå•ï¼ˆVercel å‰ç«¯åŸŸåï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ rateLimit.js       # ç®€æ˜“é™æµï¼ˆé˜²æ»¥ç”¨/å¤–éƒ¨APIä¿æŠ¤ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ streamingLinks.js  # Spotify/ç½‘æ˜“äº‘é“¾æ¥ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ middleware/
â”‚   â”‚       â”œâ”€â”€ error.js           # ç»Ÿä¸€é”™è¯¯å¤„ç†
â”‚   â”‚       â””â”€â”€ auth.js            # JWTï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ .env.example               # MONGODB_URI=...  PORT=8080  JWT_SECRET=...
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ swagger.yaml               # API æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰
â”‚
â”œâ”€â”€ crawler/                        # ğŸ æˆ– ğŸŸ© çˆ¬è™«/æ•°æ®å¯¼å…¥ï¼ˆä¸¤ç§é€‰ä¸€ï¼‰
â”‚   â”œâ”€â”€ python/                     # ä¿ç•™ä½ çš„ Python ç‰ˆ
â”‚   â”‚   â”œâ”€â”€ get_album.py
â”‚   â”‚   â”œâ”€â”€ album.py
â”‚   â”‚   â”œâ”€â”€ .env.example           # netEaseGetterDSN=MONGO_URI
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â””â”€â”€ node/                       # Node ç‰ˆæœ¬ï¼ˆå¦‚éœ€ç»Ÿä¸€ JS ç”Ÿæ€ï¼‰
â”‚       â”œâ”€â”€ fetchAlbums.mjs
â”‚       â”œâ”€â”€ .env.example           # MONGODB_URI=...
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ common/                         # å‰åç«¯å…±äº«ç±»å‹/å¸¸é‡ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ constants.js
â”‚   â””â”€â”€ schemas.md                 # æ•°æ®è¡¨ç»“æ„è¯´æ˜/ç´¢å¼•è®¾è®¡
â”‚
â”œâ”€â”€ scripts/                        # ä¸€æ¬¡æ€§è„šæœ¬ï¼ˆå»ºç´¢å¼•/å¯¼å…¥æ•°æ®ï¼‰
â”‚   â”œâ”€â”€ seed.mjs
â”‚   â””â”€â”€ create-indexes.mjs
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â””â”€â”€ run-local.md                    # æœ¬åœ°å¼€å‘è¯´æ˜
```

## Local Development æœ¬åœ°å¼€å‘

è¿™æ˜¯ä¸€ä¸ª MERN å¼€æºé¡¹ç›®ï¼ˆMongoDB + Express + React + Node.jsï¼‰ï¼Œå…·ä½“éƒ¨ç½²å¦‚ä¸‹ï¼š

- å‰ç«¯ï¼šVercel
- åç«¯ï¼šZeabur
- æ•°æ®åº“ï¼šMongoDB Atlas
  å¦‚æœä½ æƒ³ contribute æˆ–è€…é­”æ”¹è‡ªå·±çš„ç‰ˆæœ¬ï¼Œè¯·å‚è€ƒ`run-local.md`è¿›è¡Œå¼€å‘ã€‚

1. å…‹éš†è¿™ä¸ªä»“åº“åˆ°æœ¬åœ°å¹¶ä¸”`cd`åˆ°é¡¹ç›®ç›®å½•

2. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd client
npm install
```

3. å®‰è£…åç«¯ä¾èµ–

```bash
cd server
./mvnw install
```

4. å®‰è£…çˆ¬è™«ä¾èµ–

```bash
cd crawler
pip install -r requirements.txt
```
